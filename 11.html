<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Day 11 </title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,400;1,600&family=Montserrat:wght@200;400;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        :root {
            --bg: #030000;
            --heart-red: #4d0000;
            --glow-red: #ff1a1a;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; touch-action: none; }
        
        body {
            background: var(--bg);
            height: 100vh; width: 100vw;
            overflow: hidden;
            display: flex; align-items: center; justify-content: center;
            font-family: 'Montserrat', sans-serif;
            color: #fff;
        }

        /* --- BACKGROUND EFFECTS --- */
        #bg-mesh {
            position: fixed; inset: 0;
            z-index: 0;
            background: 
                radial-gradient(circle at 20% 30%, #1a0000 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, #1a0000 0%, transparent 50%);
            opacity: 0.5;
            transition: opacity 2s ease;
        }

        #aura {
            position: fixed; inset: 0;
            background: radial-gradient(circle at center, var(--heart-red) 0%, transparent 75%);
            opacity: 0; z-index: 1;
            transition: opacity 1.5s ease;
        }

        /* Ambient drifting spots */
        .spot {
            position: absolute;
            width: 400px; height: 400px;
            background: radial-gradient(circle, rgba(77, 0, 0, 0.2) 0%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 0;
        }

        /* --- INTRO SCREEN --- */
        #intro-screen {
            position: fixed; inset: 0;
            background: #000;
            z-index: 1000;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            text-align: center; padding: 40px;
        }

        .intro-text {
            font-family: 'Playfair Display', serif;
            font-style: italic; font-size: 1.15rem; line-height: 1.8;
            color: #999; max-width: 320px; margin-bottom: 40px;
            opacity: 0; transform: translateY(15px);
        }

        .intro-btn {
            background: transparent; border: 1px solid rgba(255, 26, 26, 0.3);
            color: var(--glow-red); padding: 14px 35px; border-radius: 50px;
            font-size: 0.65rem; letter-spacing: 3px; text-transform: uppercase;
            cursor: pointer; opacity: 0; transition: 0.3s;
        }

        /* --- MAIN UI --- */
        .main-container {
            position: relative; z-index: 10;
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            height: 100%; width: 100%;
        }

        .heart-area {
            width: 200px; height: 200px;
            display: flex; align-items: center; justify-content: center;
            position: relative;
        }

        .heart-glow {
            position: absolute;
            width: 45px; height: 45px;
            background: var(--glow-red);
            border-radius: 50%;
            filter: blur(30px);
            opacity: 0.3;
            transition: all 0.5s ease;
        }

        .message-wrap {
            position: absolute; top: 15%;
            width: 85%; height: 120px;
            display: flex; justify-content: center; align-items: center;
            text-align: center;
        }

        .comfort-line {
            font-family: 'Playfair Display', serif;
            font-style: italic; font-size: 1.5rem;
            color: #fff; opacity: 0; position: absolute;
            width: 100%; line-height: 1.6;
            filter: blur(8px);
        }

        .hint-box {
            position: absolute; bottom: 12%;
            opacity: 0.4; text-align: center;
            letter-spacing: 4px; font-size: 0.55rem;
            text-transform: uppercase;
        }

        .nav-btn {
            position: fixed; top: 40px; right: 30px;
            color: rgba(255,255,255,0.2); text-decoration: none;
            font-size: 0.5rem; letter-spacing: 3px; z-index: 100;
        }
    </style>
</head>
<body>

    <div id="bg-mesh"></div>
    <div class="spot" id="s1"></div>
    <div class="spot" id="s2"></div>

    <div id="intro-screen">
        <div class="intro-text" id="intro-msg">
            I know you panic sometimes, Buba. And I promise to always be there to hold you... but if somehow you can't reach me, open this. <br><br>
            Close your eyes, and feel my heart beating with yours. Your Spidey is always right here.
        </div>
        <button class="intro-btn" id="intro-btn" onclick="startExperience()">Find My Heart</button>
    </div>

    <div id="aura"></div>
    <a href="index.html" class="nav-btn">Exit</a>

    <div class="main-container">
        <div class="message-wrap">
            <div class="comfort-line">Just breathe with me.</div>
            <div class="comfort-line">Kuch nahi hua hai babe.</div>
            <div class="comfort-line">I'm with you.</div>
            <div class="comfort-line">Everything's fine my bacha.</div>
            <div class="comfort-line">You are safe here.</div>
            <div class="comfort-line">I'll always be there for you.</div>
            
            <div class="comfort-line">Sabkuch theek ho jayega.</div>
            
            <div class="comfort-line">If you still miss me, bombard my phone with calls.</div>
            
            <div class="comfort-line">Nothing is more important than my buba.</div>
            
            <div class="comfort-line">I love you.</div>
        </div>

        <div class="heart-area" id="target">
            <div class="heart-glow" id="core"></div>
        </div>

        <p class="hint-box" id="hint">Hold your hand here</p>
    </div>

    <script>
        const target = document.getElementById('target');
        const aura = document.getElementById('aura');
        const core = document.getElementById('core');
        const lines = document.querySelectorAll('.comfort-line');
        const hint = document.getElementById('hint');
        
        let isHolding = false;
        let lineIndex = 0;
        let heartTimer;

        // Audio Setup
        let audioCtx;
        function playHeartSound() {
            if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.type = 'sine';
            osc.frequency.setValueAtTime(50, audioCtx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
            gain.gain.setValueAtTime(0.2, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.5);
        }

        // Ambient Background Movement
        function animateSpots() {
            gsap.to("#s1", {
                x: "random(-100, 100)",
                y: "random(-100, 100)",
                duration: "random(10, 20)",
                repeat: -1,
                yoyo: true,
                ease: "sine.inOut"
            });
            gsap.to("#s2", {
                x: "random(-100, 100)",
                y: "random(-100, 100)",
                duration: "random(15, 25)",
                repeat: -1,
                yoyo: true,
                ease: "sine.inOut"
            });
        }
        animateSpots();

        window.onload = () => {
            gsap.to("#intro-msg", { opacity: 1, y: 0, duration: 2, delay: 0.5 });
            gsap.to("#intro-btn", { opacity: 1, duration: 1, delay: 3 });
        };

        function startExperience() {
            gsap.to("#intro-screen", { opacity: 0, pointerEvents: "none", duration: 1.5 });
            gsap.to("#bg-mesh", { opacity: 0.8, duration: 3 });
        }

        function cycleText() {
            if(!isHolding) return;
            let currentLine = lines[lineIndex];
            
            gsap.fromTo(currentLine, 
                { opacity: 0, filter: "blur(12px)", y: 10 }, 
                { opacity: 1, filter: "blur(0px)", y: 0, duration: 3, ease: "power1.out" }
            );

            gsap.to(currentLine, { 
                opacity: 0, filter: "blur(12px)", y: -10, duration: 2.5, delay: 4, 
                onComplete: () => {
                    lineIndex = (lineIndex + 1) % lines.length;
                    if(isHolding) cycleText();
                }
            });
        }

        function triggerOrganicPulse() {
            const tl = gsap.timeline();
            tl.to(core, { width: 110, height: 110, opacity: 0.7, filter: "blur(20px)", duration: 0.25, ease: "power2.out" })
              .to(core, { width: 130, height: 130, opacity: 0.9, filter: "blur(15px)", duration: 0.2, ease: "power2.out" })
              .to(core, { width: 45, height: 45, opacity: 0.3, filter: "blur(30px)", duration: 1.4, ease: "sine.inOut" });
        }

        function startPulse() {
            isHolding = true;
            lineIndex = 0;
            gsap.to(aura, { opacity: 1, duration: 2 });
            gsap.to(hint, { opacity: 0, duration: 0.5 });
            cycleText();

            const beat = () => {
                if(!isHolding) return;
                if (window.navigator.vibrate) window.navigator.vibrate([60, 40, 80]);
                playHeartSound();
                triggerOrganicPulse();
                heartTimer = setTimeout(beat, 1900 + Math.random() * 200);
            };
            beat();
        }

        function stopPulse() {
            isHolding = false;
            clearTimeout(heartTimer);
            gsap.killTweensOf(".comfort-line");
            gsap.to(aura, { opacity: 0, duration: 1 });
            gsap.to(lines, { opacity: 0, duration: 1 });
            gsap.to(hint, { opacity: 0.4, duration: 1 });
            gsap.to(core, { width: 45, height: 45, opacity: 0.3, filter: "blur(30px)", duration: 1 });
        }

        target.addEventListener('touchstart', (e) => { e.preventDefault(); startPulse(); });
        target.addEventListener('touchend', stopPulse);
        target.addEventListener('mousedown', startPulse);
        target.addEventListener('mouseup', stopPulse);
    </script>
</body>
</html>