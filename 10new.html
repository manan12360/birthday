<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Day 10 - Unfiltered</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,500;1,600&family=Montserrat:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Draggable.min.js"></script>
    <style>
        :root {
            --navy: #050a1a;
            --pink: #f48fb1;
            --glass: rgba(255, 255, 255, 0.08);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; touch-action: none; }
        
        body {
            background: #000;
            height: 100vh; width: 100vw;
            overflow: hidden;
            font-family: 'Montserrat', sans-serif;
            color: #fff;
        }

        /* --- PRE-SCREEN WARNING --- */
        #warning-screen {
            position: fixed; inset: 0;
            background: var(--navy);
            z-index: 1000;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            text-align: center; padding: 40px;
        }

        #warning-screen h2 { font-family: 'Playfair Display'; font-style: italic; color: var(--pink); margin-bottom: 20px; font-size: 2rem; }
        #warning-screen p { font-size: 0.8rem; letter-spacing: 3px; opacity: 0.6; text-transform: uppercase; margin-bottom: 40px; }
        
        .start-btn {
            padding: 12px 35px; border: 1px solid var(--pink); color: var(--pink);
            text-decoration: none; border-radius: 50px; font-size: 0.75rem; letter-spacing: 2px;
            cursor: pointer; background: transparent;
        }

        /* --- FINAL PROMISE OVERLAY --- */
        #final-overlay {
            position: fixed; inset: 0;
            background: rgba(5, 10, 26, 0.98);
            backdrop-filter: blur(25px);
            z-index: 500;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            padding: 20px;
            opacity: 0; pointer-events: none;
            transition: opacity 1s ease;
        }

        /* REBUILT SCROLL CONTAINER FOR MOBILE */
        .promise-scroll {
            width: 100%;
            max-height: 80vh;
            overflow-y: scroll; /* Force scrolling */
            -webkit-overflow-scrolling: touch; /* Smooth iOS scroll */
            padding: 20px 15px;
            position: relative;
            touch-action: pan-y !important; /* Critical for mobile */
        }
        .promise-scroll::-webkit-scrollbar { display: none; }

        .promise-text {
            font-family: 'Playfair Display';
            font-size: 1.1rem; line-height: 1.8;
            color: #fff; font-style: italic;
            padding-bottom: 60px;
            pointer-events: none;
        }

        /* Scroll Reminder Animation */
        .scroll-reminder {
            position: fixed;
            bottom: 40px; left: 50%;
            transform: translateX(-50%);
            display: flex; flex-direction: column; align-items: center;
            opacity: 0; pointer-events: none;
            transition: opacity 0.5s;
        }

        .mouse {
            width: 18px; height: 30px;
            border: 2px solid var(--pink); border-radius: 20px;
            position: relative;
        }

        .mouse::before {
            content: ''; width: 3px; height: 6px;
            background: var(--pink); position: absolute;
            left: 50%; top: 50%; transform: translate(-50%, -50%);
            border-radius: 2px;
            animation: scroll-wheel 1.5s infinite;
        }

        @keyframes scroll-wheel { 0% { top: 5px; opacity: 1; } 100% { top: 20px; opacity: 0; } }

        /* --- MAIN ARCHIVE --- */
        .bg-layer {
            position: fixed; inset: 0; z-index: 1;
            overflow: hidden; filter: blur(35px) brightness(0.25);
        }

        .bg-layer img {
            position: absolute; inset: 0; width: 100vw; height: 100vh;
            object-fit: cover; opacity: 0; transition: opacity 0.8s ease;
        }

        .main-ui {
            position: relative; z-index: 10;
            height: 100vh; width: 100%;
            display: flex; flex-direction: column;
            align-items: center; justify-content: space-between;
            padding: 40px 20px 20px 20px; /* Adjusted padding */
        }

        .sharp-frame {
            width: 250px; height: 330px;
            background: #000; border: 1px solid rgba(255,255,255,0.15);
            box-shadow: 0 30px 60px rgba(0,0,0,0.9); border-radius: 2px;
            overflow: hidden; position: relative;
        }

        .sharp-frame img { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity 0.4s ease; }

        .active { opacity: 1 !important; }

        .content-area { text-align: center; width: 100%; max-width: 320px; flex-grow: 1; display: flex; flex-direction: column; justify-content: center; }
        
        .caption-main { font-family: 'Playfair Display'; font-size: 1.2rem; color: var(--pink); font-style: italic; margin-bottom: 8px; }
        .significance-text { font-size: 0.9rem; line-height: 1.5; opacity: 0.9; font-weight: 400; font-style: italic; padding: 0 10px; }

        .dial-wrap { width: 100px; height: 100px; margin-bottom: 10px; }
        .dial {
            width: 100%; height: 100%; border-radius: 50%;
            background: var(--glass); backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            position: relative; cursor: grab;
            display: flex; justify-content: center; align-items: center;
        }
        .dial-knob { position: absolute; top: 5px; width: 7px; height: 7px; background: var(--pink); border-radius: 50%; box-shadow: 0 0 10px var(--pink); }

        #reveal-truth-btn {
            margin: 15px auto; padding: 8px 25px; background: transparent; border: 1px solid var(--pink);
            color: var(--pink); border-radius: 50px; font-size: 0.65rem; letter-spacing: 2px;
            text-transform: uppercase; cursor: pointer; opacity: 0; transform: translateY(10px); transition: all 0.8s ease; display: block;
        }

        .close-msg { margin-top: 40px; font-size: 0.55rem; letter-spacing: 3px; opacity: 0.4; text-transform: uppercase; padding-bottom: 20px; }
        .nav-btn { color: rgba(255,255,255,0.4); text-decoration: none; font-size: 0.55rem; letter-spacing: 3px; text-transform: uppercase; padding: 10px; }
    </style>
</head>
<body>

    <div id="warning-screen">
        <h2>A Little Disclaimer...</h2>
        <p>You might hate me for this one,<br>but these are my favorites.</p>
        <button class="start-btn" onclick="startArchive()">I'm Ready</button>
    </div>

    <div id="final-overlay">
        <div class="promise-scroll" id="letterScroll" onscroll="hideReminder()">
            <div class="promise-text">
                So, I suppose this wasn’t the best gift of all the days, right buba? <br><br>
                I know you probably hate me right now for this, but let me explain. We talked about insecurities, and I’m so glad you share yours with me. Insecurities rise—we are all human, after all, and it’s okay to feel unsafe and nervous sometimes. <br><br>
                But I want to tell you something: my purpose behind these images wasn’t to create a mockery, but to let you know that there exists a guy in this world who loves every small imperfection about you. Someone who would boast about you like a princess, and always love you. That guy is your spidey. <br><br>
                Love isn't about looking perfect; it’s about choosing someone who you would love, respect, and be proud of every single day. <br><br>
                And yes, <span style="color:var(--pink)">I’m proud of you</span>. <br><br>
                Be it your hands, your hair, your face, or your boobies—I love them all. To me, those aren't things to be insecure about, but things to be proud of. Your imperfections are my treasure, babe. <br><br>
                Just remember: your Spidey loves his Gwen for who she is, not just how she looks. Though, for the record, you still look fucking hot. <br><br>
                I should honestly sue Disney for copying my princess. <br><br>
                Let the people laugh. But I promise you one thing , this time you wouldn't be alone. Jo bhi hasega, hum dono milke uska bhoot bana denge. I'll hold you hand no matter what. For I am always gonna defend the fact that god gave me the most beautiful girlfriend ever.
                And honestly , there is no such thing as a bad photo for a boyfriend.<br><br>
                <span style="font-size: 1.4rem; color: var(--pink);">I LOVE YOU MY BUBA, AND I'M PROUD OF YOU.</span>
                <p class="close-msg" onclick="closeOverlay()">Tap here to return to archive</p>
            </div>
        </div>
        <div class="scroll-reminder" id="reminder">
            <div class="mouse"></div>
            <p style="font-size: 0.5rem; color: var(--pink); margin-top: 10px; letter-spacing: 2px;">SCROLL DOWN</p>
        </div>
    </div>

    <div class="bg-layer" id="bg-container">
        <img src="photos/p1.jpeg" class="active">
        <img src="photos/p2.jpeg"><img src="photos/p3.jpeg"><img src="photos/p4.jpeg">
        <img src="photos/p5.jpeg"><img src="photos/p6.jpeg"><img src="photos/p7.jpeg">
        <img src="photos/p8.jpeg"><img src="photos/p9.jpeg"><img src="photos/p10.jpeg">
        <img src="photos/p11.jpeg"><img src="photos/p12.jpeg"><img src="photos/p13.jpeg">
    </div>

    <div class="main-ui">
        <div class="header">
            <p style="font-size: 0.5rem; letter-spacing: 5px; opacity: 0.5;">DAY 10 &bull; THE UNWANTED GALLERY</p>
        </div>

   <div class="sharp-frame" id="sharp-container">
            <img src="photos/p1.jpeg" class="active" data-cap="The Frst 'bad' photo." data-sig="Because this is exactly the smile I fell for.">
            <img src="photos/p2.jpeg" data-cap="Ms Irritated." data-sig="The first time i saw you irritated, and let me tell you , you look cuter when you are chidchidi.">
            <img src="photos/p3.jpeg" data-cap="AHAHAHAHAHA." data-sig="You think I forgot about this one? Mwahahhaahahah.">
            <img src="photos/p4.jpeg" data-cap="You look like a fish." data-sig="A dumb fish. Still my cutuuu.">
            <img src="photos/p5.jpeg" data-cap="Awwww its a family photo." data-sig="Kitni sudhri hui lag rahi hai.">
            <img src="photos/p6.jpeg" data-cap="Hehehehe." data-sig="The photo I see whenever you call me.">
            <img src="photos/p7.jpeg" data-cap="Screenshot lene me pro hu mai." data-sig="Atleast lipstick to achi hai naaa.">
            <img src="photos/p8.jpeg" data-cap="The dumb fish returns." data-sig="You look like that one fish jiski ek eye ek side hai dusri eye ek side.">
            <img src="photos/p9.jpeg" data-cap="Big ass forehead" data-sig="Also, big ass.">
            <img src="photos/p10.jpeg" data-cap="Haye waheguru." data-sig="Ye dekhke to mai bhi dar jaata.">
            <img src="photos/p11.jpeg" data-cap="no comments." data-sig="You look cute tho my baby.">
            <img src="photos/p12.jpeg" data-cap="Okay cmon this is cute." data-sig="Not the best date , but i mean , every date with you is the best.">
            <img src="photos/p13.jpeg" data-cap="What do these look like." data-sig="I still dont understand what do you mean they look like 'that'.">
        </div>

        <div class="content-area">
            <div class="caption-main" id="caption">The Archive</div>
            <div class="significance-text" id="sig-text">Tune the dial below...</div>
            <button id="reveal-truth-btn" onclick="revealTruth()">The Final Truth</button>
        </div>

        <div class="dial-wrap">
            <div class="dial" id="dial">
                <div class="dial-knob"></div>
                <p style="font-size: 0.4rem; letter-spacing: 2px; opacity: 0.2;">TUNE</p>
            </div>
        </div>

        <a href="index.html" class="nav-btn">Return to Timeline</a>
    </div>

    <script>
        gsap.registerPlugin(Draggable);

        const bgImages = document.querySelectorAll('#bg-container img');
        const sharpImages = document.querySelectorAll('#sharp-container img');
        const caption = document.getElementById('caption');
        const sigText = document.getElementById('sig-text');
        const revealBtn = document.getElementById('reveal-truth-btn');
        const reminder = document.getElementById('reminder');
        const total = sharpImages.length;
        let lastIndex = 0;
        let photosSeen = new Set();

        function startArchive() {
            gsap.to("#warning-screen", { opacity: 0, pointerEvents: "none", duration: 1 });
        }

        function revealTruth() {
            const overlay = document.getElementById('final-overlay');
            overlay.style.opacity = "1";
            overlay.style.pointerEvents = "auto";
            gsap.from(".promise-text", { y: 30, opacity: 0, duration: 1, delay: 0.5 });
            gsap.to(reminder, { opacity: 1, duration: 1, delay: 2 });
        }

        function hideReminder() {
            gsap.to(reminder, { opacity: 0, duration: 0.5 });
        }

        function closeOverlay() {
            const overlay = document.getElementById('final-overlay');
            overlay.style.opacity = "0";
            overlay.style.pointerEvents = "none";
        }

        Draggable.create("#dial", {
            type: "rotation",
            inertia: true,
            onDrag: updateArchive,
            onThrowUpdate: updateArchive
        });

        function updateArchive() {
            let rotation = this.rotation % 360;
            if (rotation < 0) rotation += 360;
            let index = Math.floor((rotation / 360) * total);
            
            if (index !== lastIndex) {
                if (window.navigator.vibrate) window.navigator.vibrate(5);
                photosSeen.add(index);

                if (photosSeen.size >= 7) {
                    gsap.to(revealBtn, { opacity: 1, y: 0, duration: 1, pointerEvents: 'auto' });
                }
                
                bgImages.forEach((img, i) => img.classList.toggle('active', i === index));
                sharpImages.forEach((img, i) => {
                    if (i === index) {
                        img.classList.add('active');
                        caption.innerText = img.getAttribute('data-cap');
                        sigText.innerText = img.getAttribute('data-sig');
                    } else {
                        img.classList.remove('active');
                    }
                });
                lastIndex = index;
            }
        }

        window.onload = () => {
            caption.innerText = sharpImages[0].getAttribute('data-cap');
            sigText.innerText = sharpImages[0].getAttribute('data-sig');
        };
    </script>
</body>
</html>
