<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 7 - 50 Reasons</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@300;500;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            background: linear-gradient(135deg, #a3b18a 0%, #dad7cd 100%);
            color: #344e41;
            font-family: 'Quicksand', sans-serif;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
        }

        #snow {
            position: fixed;
            top: 0; left: 0;
            pointer-events: none;
            z-index: 1;
        }

        header {
            position: absolute;
            top: 0; width: 100%;
            height: 180px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
            background: linear-gradient(to bottom, rgba(218, 215, 205, 0.9), transparent);
            pointer-events: none;
        }

        h1 { font-family: 'Dancing Script', cursive; font-size: 2.8rem; color: #344e41; text-align: center; }
        .counter { font-size: 0.9rem; letter-spacing: 2px; font-weight: 700; color: #588157; margin-top: 5px; }
        .instruction { font-size: 0.7rem; opacity: 0.6; margin-top: 8px; font-style: italic; }

        /* The Play Zone */
        #bubble-zone {
            position: absolute;
            top: 180px; /* Start below header */
            bottom: 100px; /* End above footer */
            left: 0;
            right: 0;
            z-index: 5;
            overflow: visible; /* Ensure bubbles don't get clipped */
        }

        .bubble {
            position: absolute;
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }

        .bubble:hover {
            background: rgba(255, 255, 255, 0.7);
            border-color: #a3b18a;
            z-index: 50; 
        }

        /* Modal styling */
        #reason-modal {
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            width: 85%;
            max-width: 400px;
            background: #fffdf7;
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            display: none;
            z-index: 100;
            box-shadow: 0 30px 60px rgba(52, 78, 65, 0.2);
        }

        #reason-title { font-size: 0.7rem; letter-spacing: 3px; color: #a3b18a; text-transform: uppercase; margin-bottom: 15px; font-weight: bold; }
        #reason-text { font-family: 'Dancing Script'; font-size: 1.8rem; color: #344e41; line-height: 1.4; }
        .close-hint { margin-top: 25px; font-size: 0.7rem; opacity: 0.5; cursor: pointer; text-decoration: underline; }

        footer {
            position: absolute;
            bottom: 0; width: 100%;
            height: 100px;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
            background: linear-gradient(to top, rgba(218, 215, 205, 0.9), transparent);
        }

        .home-btn { 
            color: #344e41; 
            text-decoration: none; 
            font-weight: 600; 
            font-size: 0.8rem; 
            border: 1px solid #344e41;
            padding: 8px 20px;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
        }
    </style>
</head>
<body>

    <canvas id="snow"></canvas>

    <header>
        <h1>50 Reasons im proud of my princess</h1>
        <div class="counter"><span id="count">0</span> / 50 DISCOVERED</div>
        <p class="instruction">Pop the bubbles to see why...</p>
    </header>

    <div id="bubble-zone"></div>

    <div id="reason-modal">
        <p id="reason-title"></p>
        <p id="reason-text"></p>
        <p class="close-hint" onclick="closeModal()">Tap to continue</p>
    </div>

    <footer>
        <a href="index.html" class="home-btn">Return Home</a>
    </footer>

    <script>
       const reasons = [
            "You take care of me , even when you are'nt well.",
            "You never give up, even though roti hai but uske baad sambhal leti hai.",
            "you made me feel like my health wasn't a problem.",
            "You handle everything so well",
            "Even after getting scolded everyday, you still take care of your family.",
            "You look the prettiest even without makeup.",
            "You show your love through random affections and 'I love you's.",
            "You scored so well even though you faced multiple orblems jaha mai to har man jau.",
            "You accept your mistakes and fix them, always.",
            "You are always there when i need you.",
            "You never show attitude(acha okay kabhi kabhi dikhati hai).",
            "You bring happiness wherever you go.",
            "You stand for your family and speak when rishtedar ulta seedha bolte hai.",
            "My dog loves you.",
            "You forgive people , no matter what they did.",
            "You always try , no matter kitni baar fail hojaye.",
            "You have the best taste when it comes to food.",
            "You made me love raviolli.",
            "You always bring me gifts even when i dont.",
            "You deal with my mood swings without losing your cool (mostly).",
            "Your sense of humor (even the bad jokes).",
            "Tu itni choti si hai but your heart is the biggest I’ve ever seen.",
            "You have this weird power of knowing exactly what’s bothering me.",
            "Your fashion sense is literally hawttt.",
            "The way you open up whats bothering you.",
            "The way you red my mind ,and know exactly merko kya dikkat hai.",
            "How you never give up on us.",
            "The way you yap.",
            "The way you lisiten to my laps.",
            "How you make every date feel special.",
            "The way you remember everything about my family.",
            "You make me feel safe.",
            "How you handle pressure, even though panic toh karti hai but uske lie mai hu na.",
            "How you are always positive even when im negative.",
            "The way you've become my best friend (and haan better than vivaan even though i dont say it always).",
            "How you never make me angry(acha ye to jhooth hai, abhi bhi gussa hounga mai pakka).",
            "How you keep your promises.",
            "The way you light up my darkest days.",
            "How you include me in your future plans.",
            "How you stay calm in khatarnaak situations.",
            "Your taste in music.",
            "The way you appreciate the little things.",
            "How you’ve taught me to be a better person.",
            "How well you dance.",
            "How good you draw.",
            "Your hands, yes im proud of those hands , and dont let anybody make you feel insecure about them ever, they are perfect.",
            "How you take responsibilites.",
            "The way you've accepted me for me.",
            "The fact that you bath daily(jhooth tha ye bhi nahi nahati tu).",
            "Just the fact that you are mine."
        ];

        let poppedCount = 0;
        let activeBubble = null;

        // SNOWFALL
        const canvas = document.getElementById('snow');
        const ctx = canvas.getContext('2d');
        let width, height, flakes = [];

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }
        window.onresize = resize;
        resize();

        for(let i=0; i<40; i++) {
            flakes.push({ x: Math.random()*width, y: Math.random()*height, r: Math.random()*2+1 });
        }

        function drawSnow() {
            ctx.clearRect(0,0,width,height);
            ctx.fillStyle = "rgba(255, 255, 255, 0.6)";
            ctx.beginPath();
            flakes.forEach(f => {
                ctx.moveTo(f.x, f.y);
                ctx.arc(f.x, f.y, f.r, 0, Math.PI*2, true);
                f.y += 0.8;
                if(f.y > height) f.y = -10;
            });
            ctx.fill();
            requestAnimationFrame(drawSnow);
        }
        drawSnow();

        // BUBBLE SPAWNING
        const zone = document.getElementById('bubble-zone');
        
        reasons.forEach((text, i) => {
            const bubble = document.createElement('div');
            bubble.className = 'bubble';
            const size = 55; // Consistent size for better clicking
            bubble.style.width = size + 'px';
            bubble.style.height = size + 'px';
            
            // Spawn inside the visible bounds of the zone
            bubble.style.left = (Math.random() * 80 + 5) + '%'; 
            bubble.style.top = (Math.random() * 80 + 5) + '%';

            bubble.addEventListener('click', function(e) {
                if (this.dataset.popped) return;
                this.dataset.popped = "true";
                activeBubble = this;

                poppedCount++;
                document.getElementById('count').innerText = poppedCount;

                gsap.to(this, { 
                    scale: 3, 
                    opacity: 0, 
                    duration: 0.3, 
                    onComplete: () => {
                        this.style.visibility = 'hidden';
                        document.getElementById('reason-title').innerText = "REASON #" + (i + 1);
                        document.getElementById('reason-text').innerText = text;
                        const modal = document.getElementById('reason-modal');
                        modal.style.display = 'block';
                        gsap.fromTo(modal, { scale: 0.7, opacity: 0 }, { scale: 1, opacity: 1, duration: 0.4 });
                    }
                });
            });

            zone.appendChild(bubble);

            // Subtle floating animation
            gsap.to(bubble, {
                x: "random(-20, 20)",
                y: "random(-20, 20)",
                duration: "random(2.5, 4.5)",
                repeat: -1,
                yoyo: true,
                ease: "sine.inOut"
            });
        });

        function closeModal() {
            const modal = document.getElementById('reason-modal');
            gsap.to(modal, { scale: 0.8, opacity: 0, duration: 0.2, onComplete: () => {
                modal.style.display = 'none';
                if(activeBubble) {
                    activeBubble.remove();
                    activeBubble = null;
                }
                if(poppedCount === 50) {
                    document.querySelector('h1').innerText = "All 50 Found! ❤️";
                    document.querySelector('.instruction').innerText = "You're amazing. Every single bit of you.";
                }
            }});
        }
    </script>
</body>
</html>